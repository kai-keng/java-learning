<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mybatis-Plus | Java</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Just record my learning process">
    <link rel="preload" href="/java-learning/assets/css/0.styles.dcc29016.css" as="style"><link rel="preload" href="/java-learning/assets/js/app.468b233b.js" as="script"><link rel="preload" href="/java-learning/assets/js/2.c636a619.js" as="script"><link rel="preload" href="/java-learning/assets/js/21.1a6bd0ed.js" as="script"><link rel="prefetch" href="/java-learning/assets/js/10.34b824c9.js"><link rel="prefetch" href="/java-learning/assets/js/11.6b55e107.js"><link rel="prefetch" href="/java-learning/assets/js/12.4c458d89.js"><link rel="prefetch" href="/java-learning/assets/js/13.e38557b6.js"><link rel="prefetch" href="/java-learning/assets/js/14.ef856b0e.js"><link rel="prefetch" href="/java-learning/assets/js/15.b8ea4c84.js"><link rel="prefetch" href="/java-learning/assets/js/16.efda4657.js"><link rel="prefetch" href="/java-learning/assets/js/17.a0409a6d.js"><link rel="prefetch" href="/java-learning/assets/js/18.b99c5b05.js"><link rel="prefetch" href="/java-learning/assets/js/19.a92b7a48.js"><link rel="prefetch" href="/java-learning/assets/js/20.a4ab721e.js"><link rel="prefetch" href="/java-learning/assets/js/22.351fe15c.js"><link rel="prefetch" href="/java-learning/assets/js/23.c3e72414.js"><link rel="prefetch" href="/java-learning/assets/js/24.add1edb5.js"><link rel="prefetch" href="/java-learning/assets/js/25.2e5ab7c4.js"><link rel="prefetch" href="/java-learning/assets/js/26.04ac91a7.js"><link rel="prefetch" href="/java-learning/assets/js/27.99a39ec9.js"><link rel="prefetch" href="/java-learning/assets/js/28.bff16cd6.js"><link rel="prefetch" href="/java-learning/assets/js/29.b7c76712.js"><link rel="prefetch" href="/java-learning/assets/js/3.7b0cf304.js"><link rel="prefetch" href="/java-learning/assets/js/30.bbe01779.js"><link rel="prefetch" href="/java-learning/assets/js/31.95396082.js"><link rel="prefetch" href="/java-learning/assets/js/32.0e7b2907.js"><link rel="prefetch" href="/java-learning/assets/js/33.aa4276a2.js"><link rel="prefetch" href="/java-learning/assets/js/34.e75e8a0d.js"><link rel="prefetch" href="/java-learning/assets/js/35.6c1a6b01.js"><link rel="prefetch" href="/java-learning/assets/js/36.48f2b459.js"><link rel="prefetch" href="/java-learning/assets/js/37.a5779093.js"><link rel="prefetch" href="/java-learning/assets/js/38.eff8ae72.js"><link rel="prefetch" href="/java-learning/assets/js/39.c51675d0.js"><link rel="prefetch" href="/java-learning/assets/js/4.68a2a9c0.js"><link rel="prefetch" href="/java-learning/assets/js/40.40bf0114.js"><link rel="prefetch" href="/java-learning/assets/js/41.4c91ed40.js"><link rel="prefetch" href="/java-learning/assets/js/42.7dce943e.js"><link rel="prefetch" href="/java-learning/assets/js/43.28362534.js"><link rel="prefetch" href="/java-learning/assets/js/44.dccb0bd0.js"><link rel="prefetch" href="/java-learning/assets/js/45.88bebf75.js"><link rel="prefetch" href="/java-learning/assets/js/46.11e69450.js"><link rel="prefetch" href="/java-learning/assets/js/47.2bde202d.js"><link rel="prefetch" href="/java-learning/assets/js/48.2e787809.js"><link rel="prefetch" href="/java-learning/assets/js/49.e4690f70.js"><link rel="prefetch" href="/java-learning/assets/js/5.f9a399f7.js"><link rel="prefetch" href="/java-learning/assets/js/50.bb6994e7.js"><link rel="prefetch" href="/java-learning/assets/js/51.cbde8e38.js"><link rel="prefetch" href="/java-learning/assets/js/52.13c67a2b.js"><link rel="prefetch" href="/java-learning/assets/js/53.86b329c7.js"><link rel="prefetch" href="/java-learning/assets/js/54.5405f7a1.js"><link rel="prefetch" href="/java-learning/assets/js/55.0a59d17a.js"><link rel="prefetch" href="/java-learning/assets/js/56.6968c745.js"><link rel="prefetch" href="/java-learning/assets/js/57.224aa023.js"><link rel="prefetch" href="/java-learning/assets/js/58.4b86b664.js"><link rel="prefetch" href="/java-learning/assets/js/59.72d68053.js"><link rel="prefetch" href="/java-learning/assets/js/6.e0d42297.js"><link rel="prefetch" href="/java-learning/assets/js/60.b656977d.js"><link rel="prefetch" href="/java-learning/assets/js/61.2404fc16.js"><link rel="prefetch" href="/java-learning/assets/js/62.7713cc84.js"><link rel="prefetch" href="/java-learning/assets/js/63.cb635a48.js"><link rel="prefetch" href="/java-learning/assets/js/64.e8d07c29.js"><link rel="prefetch" href="/java-learning/assets/js/65.741d28af.js"><link rel="prefetch" href="/java-learning/assets/js/66.b3e39701.js"><link rel="prefetch" href="/java-learning/assets/js/67.f86feae7.js"><link rel="prefetch" href="/java-learning/assets/js/68.95f6afb6.js"><link rel="prefetch" href="/java-learning/assets/js/69.7f64487d.js"><link rel="prefetch" href="/java-learning/assets/js/7.f7bb1937.js"><link rel="prefetch" href="/java-learning/assets/js/70.4d42a45f.js"><link rel="prefetch" href="/java-learning/assets/js/71.03c7ba1d.js"><link rel="prefetch" href="/java-learning/assets/js/72.d7e8057d.js"><link rel="prefetch" href="/java-learning/assets/js/73.d9cb95b2.js"><link rel="prefetch" href="/java-learning/assets/js/74.5faf6f68.js"><link rel="prefetch" href="/java-learning/assets/js/75.34280d7d.js"><link rel="prefetch" href="/java-learning/assets/js/76.4c55a9d2.js"><link rel="prefetch" href="/java-learning/assets/js/77.096a9e16.js"><link rel="prefetch" href="/java-learning/assets/js/78.cb8bc475.js"><link rel="prefetch" href="/java-learning/assets/js/79.bef9751b.js"><link rel="prefetch" href="/java-learning/assets/js/8.9c56d596.js"><link rel="prefetch" href="/java-learning/assets/js/80.f219c48f.js"><link rel="prefetch" href="/java-learning/assets/js/9.8c0bb15c.js">
    <link rel="stylesheet" href="/java-learning/assets/css/0.styles.dcc29016.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/java-learning/" class="home-link router-link-active"><!----> <span class="site-name">Java</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://kai-keng.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://kai-keng.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/java-learning/spring-boot/" class="sidebar-heading clickable router-link-active open"><span>Spring Boot</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/java-learning/spring-boot/0-idea-configuration.html" class="sidebar-link">IDEA 相关配置介绍</a></li><li><a href="/java-learning/spring-boot/1-exception.html" class="sidebar-link">统一异常处理</a></li><li><a href="/java-learning/spring-boot/2-configuration.html" class="sidebar-link">配置文件实战</a></li><li><a href="/java-learning/spring-boot/3-mybatis-druid.html" class="sidebar-link">Spring Boot 整合Mybatis与Druid</a></li><li><a href="/java-learning/spring-boot/4-spring-multi-datasource.html" class="sidebar-link">Mybatis多数据源配置</a></li><li><a href="/java-learning/spring-boot/5-operation-log-aop.html" class="sidebar-link">AOP实现超简易的操作日志记录</a></li><li><a href="/java-learning/spring-boot/6-redis-cache.html" class="sidebar-link">整合Redis缓存</a></li><li><a href="/java-learning/spring-boot/10-hibernate-validator.html" class="sidebar-link">Spring 参数校验实战</a></li><li><a href="/java-learning/spring-boot/11-mybatis-auto.html" class="sidebar-link">Mybatis自动化便捷操作</a></li><li><a href="/java-learning/spring-boot/12-common-result.html" class="sidebar-link">包装通用控制层返回结果</a></li><li><a href="/java-learning/spring-boot/13-knife4j.html" class="sidebar-link">Spring Boot整合Knife4j</a></li><li><a href="/java-learning/spring-boot/14-transactional.html" class="sidebar-link">事务管理</a></li><li><a href="/java-learning/spring-boot/15-mybatis-plus.html" aria-current="page" class="active sidebar-link">Mybatis-Plus</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java-learning/spring-boot/15-mybatis-plus.html#mybatis-plus-自动生成代码" class="sidebar-link">Mybatis-Plus 自动生成代码</a></li><li class="sidebar-sub-header"><a href="/java-learning/spring-boot/15-mybatis-plus.html#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/java-learning/spring-boot/16-dubbo.html" class="sidebar-link">简易整合Dubbo</a></li></ul></section></li><li><a href="/java-learning/spring-cloud/" class="sidebar-link">Spring Cloud</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/java-learning/spring-security/" class="sidebar-heading clickable"><span>Spring Security</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/java-learning/mysql/" class="sidebar-heading clickable"><span>MySQL</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/java-learning/collection/" class="sidebar-heading clickable"><span>集合框架</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/java-learning/jvm/" class="sidebar-heading clickable"><span>JVM</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/java-learning/multi-thread/" class="sidebar-heading clickable"><span>多线程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/java-learning/design-pattern/" class="sidebar-heading clickable"><span>设计模式</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/java-learning/internet/" class="sidebar-link">网络</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/java-learning/other/" class="sidebar-heading clickable"><span>其他</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/java-learning/materials/" class="sidebar-link">相关资料</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mybatis-plus"><a href="#mybatis-plus" class="header-anchor">#</a> Mybatis-Plus</h1> <h2 id="mybatis-plus-自动生成代码"><a href="#mybatis-plus-自动生成代码" class="header-anchor">#</a> Mybatis-Plus 自动生成代码</h2> <ol><li>添加依赖</li></ol> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--        引入 Mybatis-Plus 启动器--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-plus-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.4.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--        引入 Mybatis-Plus 代码生成器--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-plus-generator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.4.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--        引入 velocity 模板引擎--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.velocity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>velocity-engine-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>在 resources 目录下添加模板</li></ol> <ul><li><strong>controller.java.vm</strong></li></ul> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token keyword">package</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Controller</span><span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>

#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>restControllerStyle<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">RestController</span><span class="token punctuation">;</span>
#<span class="token keyword">else</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Controller</span><span class="token punctuation">;</span>
#end
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>superControllerClassPackage<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> $<span class="token punctuation">{</span>superControllerClassPackage<span class="token punctuation">}</span><span class="token punctuation">;</span>
#end

<span class="token comment">/**
* @auther ${author}
* @create ${cfg.dateTime}
* @describe $!{table.comment}前端控制器
*/</span>
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>restControllerStyle<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RestController</span>
#<span class="token keyword">else</span>
<span class="token annotation punctuation">@Controller</span>
#end
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;#if(${package.ModuleName})/${package.ModuleName}#end/#if(${controllerMappingHyphenStyle})${controllerMappingHyphen}#else${table.entityPath}#end&quot;</span><span class="token punctuation">)</span>
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>kotlin<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>controllerName<span class="token punctuation">}</span>#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>superControllerClass<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">:</span> $<span class="token punctuation">{</span>superControllerClass<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>#end

#<span class="token keyword">else</span>
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>superControllerClass<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>controllerName<span class="token punctuation">}</span> <span class="token keyword">extends</span> $<span class="token punctuation">{</span>superControllerClass<span class="token punctuation">}</span> <span class="token punctuation">{</span>
    #<span class="token keyword">else</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>controllerName<span class="token punctuation">}</span> <span class="token punctuation">{</span>
    #end

        <span class="token punctuation">}</span>
#end
</code></pre></div><ul><li><strong>entity.java.vm</strong></li></ul> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token keyword">package</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Entity</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

#<span class="token function">foreach</span><span class="token punctuation">(</span>$pkg in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>importPackages<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> $<span class="token punctuation">{</span>pkg<span class="token punctuation">}</span><span class="token punctuation">;</span>
#end
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>swagger2<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations</span><span class="token punctuation">.</span><span class="token class-name">ApiModel</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations</span><span class="token punctuation">.</span><span class="token class-name">ApiModelProperty</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">JsonInclude</span><span class="token punctuation">;</span>
#end
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>entityLombokModel<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">Data</span><span class="token punctuation">;</span>
#end

<span class="token comment">/**
* @auther ${author}
* @create ${cfg.dateTime}
* @describe $!{table.comment}实体类
*/</span>
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>entityLombokModel<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Data</span>
#end
<span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">&quot;${table.name}&quot;</span><span class="token punctuation">)</span>
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>swagger2<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@JsonInclude</span><span class="token punctuation">(</span><span class="token class-name">JsonInclude</span><span class="token punctuation">.</span><span class="token class-name">Include</span><span class="token punctuation">.</span>NON_NULL<span class="token punctuation">)</span>
<span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;${entity}对象&quot;</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">&quot;$!{table.comment}&quot;</span><span class="token punctuation">)</span>
#end
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>superEntityClass<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> $<span class="token punctuation">{</span>entity<span class="token punctuation">}</span> <span class="token keyword">extends</span> $<span class="token punctuation">{</span>superEntityClass<span class="token punctuation">}</span>#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>activeRecord<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token operator">&gt;</span>#end <span class="token punctuation">{</span>
#<span class="token function">elseif</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>activeRecord<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> $<span class="token punctuation">{</span>entity<span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span><span class="token operator">&lt;</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
#<span class="token keyword">else</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> $<span class="token punctuation">{</span>entity<span class="token punctuation">}</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
#end

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
## <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> BEGIN 字段循环遍历 <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
#<span class="token function">foreach</span><span class="token punctuation">(</span>$field in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>fields<span class="token punctuation">}</span><span class="token punctuation">)</span>

    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>keyFlag<span class="token punctuation">}</span><span class="token punctuation">)</span>
        #<span class="token function">set</span><span class="token punctuation">(</span>$keyPropertyName<span class="token operator">=</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span><span class="token punctuation">)</span>
    #end
    #<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;$!field.comment&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>swagger2<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;${field.comment}&quot;</span><span class="token punctuation">)</span>
        #<span class="token keyword">else</span>
        <span class="token comment">/**
        * ${field.comment}
        */</span>
        #end
    #end
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>keyFlag<span class="token punctuation">}</span><span class="token punctuation">)</span>
        ## 主键
        #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>keyIdentityFlag<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;${field.name}&quot;</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>
        #<span class="token function">elseif</span><span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token keyword">null</span><span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>idType<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;$!idType&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;${field.name}&quot;</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>idType<span class="token punctuation">}</span><span class="token punctuation">)</span>
        #<span class="token function">elseif</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>convert<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span><span class="token string">&quot;${field.name}&quot;</span><span class="token punctuation">)</span>
        #end
        ## 普通字段
    #<span class="token function">elseif</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>fill<span class="token punctuation">}</span><span class="token punctuation">)</span>
        ## <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  存在字段填充设置  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
        #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>convert<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;${field.name}&quot;</span><span class="token punctuation">,</span> fill <span class="token operator">=</span> <span class="token class-name">FieldFill</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>fill<span class="token punctuation">}</span><span class="token punctuation">)</span>
        #<span class="token keyword">else</span>
        <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>fill <span class="token operator">=</span> <span class="token class-name">FieldFill</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>fill<span class="token punctuation">}</span><span class="token punctuation">)</span>
        #end
    #<span class="token keyword">else</span>
    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span><span class="token string">&quot;${field.name}&quot;</span><span class="token punctuation">)</span>
    #end
    ## 乐观锁注解
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>versionFieldName<span class="token punctuation">}</span><span class="token operator">==</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Version</span>
    #end
    ## 逻辑删除注解
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>logicDeleteFieldName<span class="token punctuation">}</span><span class="token operator">==</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@TableLogic</span>
    #end
<span class="token keyword">private</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyType<span class="token punctuation">}</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span><span class="token punctuation">;</span>
#end
## <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> END 字段循环遍历 <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

#<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">{</span>entityLombokModel<span class="token punctuation">}</span><span class="token punctuation">)</span>
    #<span class="token function">foreach</span><span class="token punctuation">(</span>$field in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>fields<span class="token punctuation">}</span><span class="token punctuation">)</span>
        #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;boolean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            #<span class="token function">set</span><span class="token punctuation">(</span>$getprefix<span class="token operator">=</span><span class="token string">&quot;is&quot;</span><span class="token punctuation">)</span>
        #<span class="token keyword">else</span>
            #<span class="token function">set</span><span class="token punctuation">(</span>$getprefix<span class="token operator">=</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">)</span>
        #end

    <span class="token keyword">public</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyType<span class="token punctuation">}</span> $<span class="token punctuation">{</span>getprefix<span class="token punctuation">}</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>capitalName<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>entityBuilderModel<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">public</span> $<span class="token punctuation">{</span>entity<span class="token punctuation">}</span> set$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>capitalName<span class="token punctuation">}</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyType<span class="token punctuation">}</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        #<span class="token keyword">else</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> set$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>capitalName<span class="token punctuation">}</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyType<span class="token punctuation">}</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        #end
            <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span> <span class="token operator">=</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span><span class="token punctuation">;</span>
        #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>entityBuilderModel<span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        #end
            <span class="token punctuation">}</span>
    #end
#end

#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>entityColumnConstant<span class="token punctuation">}</span><span class="token punctuation">)</span>
    #<span class="token function">foreach</span><span class="token punctuation">(</span>$field in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>fields<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">&quot;${field.name}&quot;</span><span class="token punctuation">;</span>

    #end
#end
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>activeRecord<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token class-name">Serializable</span> <span class="token function">pkVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>keyPropertyName<span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>keyPropertyName<span class="token punctuation">}</span><span class="token punctuation">;</span>
    #<span class="token keyword">else</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    #end
        <span class="token punctuation">}</span>

#end
#<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">{</span>entityLombokModel<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;${entity}{&quot;</span> <span class="token operator">+</span>
    #<span class="token function">foreach</span><span class="token punctuation">(</span>$field in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>fields<span class="token punctuation">}</span><span class="token punctuation">)</span>
        #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token operator">!</span><span class="token punctuation">{</span>foreach<span class="token punctuation">.</span>index<span class="token punctuation">}</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token string">&quot;${field.propertyName}=&quot;</span> <span class="token operator">+</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span> <span class="token operator">+</span>
        #<span class="token keyword">else</span>
                <span class="token string">&quot;, ${field.propertyName}=&quot;</span> <span class="token operator">+</span> $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>propertyName<span class="token punctuation">}</span> <span class="token operator">+</span>
        #end
    #end
        <span class="token string">&quot;}&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
#end
        <span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>mapper.java.vm</strong></li></ul> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token keyword">package</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Mapper</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Entity</span><span class="token punctuation">}</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token punctuation">{</span>superMapperClassPackage<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
* @auther ${author}
* @create ${cfg.dateTime}
* @describe $!{table.comment}mapper类
*/</span>
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>kotlin<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">interface</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>mapperName<span class="token punctuation">}</span> <span class="token operator">:</span> $<span class="token punctuation">{</span>superMapperClass<span class="token punctuation">}</span><span class="token operator">&lt;</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token operator">&gt;</span>
#<span class="token keyword">else</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>mapperName<span class="token punctuation">}</span> <span class="token keyword">extends</span> $<span class="token punctuation">{</span>superMapperClass<span class="token punctuation">}</span><span class="token operator">&lt;</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
#end
</code></pre></div><ul><li><strong>mapper.xml.vm</strong></li></ul> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">&amp;</span>#<span class="token number">63</span><span class="token punctuation">;</span>xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&amp;</span>#<span class="token number">63</span><span class="token punctuation">;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE mapper PUBLIC <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>mapper namespace<span class="token operator">=</span><span class="token string">&quot;${package.Mapper}.${table.mapperName}&quot;</span><span class="token operator">&gt;</span>

    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>enableCache<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 开启二级缓存 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>cache type<span class="token operator">=</span><span class="token string">&quot;org.mybatis.caches.ehcache.LoggingEhcache&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    #end
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>baseResultMap<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 通用查询映射结果 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>resultMap id<span class="token operator">=</span><span class="token string">&quot;BaseResultMap&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;${package.Entity}.${entity}&quot;</span><span class="token operator">&gt;</span>
            #<span class="token function">foreach</span><span class="token punctuation">(</span>$field in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>fields<span class="token punctuation">}</span><span class="token punctuation">)</span>
                #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>keyFlag<span class="token punctuation">}</span><span class="token punctuation">)</span>##生成主键排在第一位
                    <span class="token operator">&lt;</span>id column<span class="token operator">=</span><span class="token string">&quot;${field.name}&quot;</span> property<span class="token operator">=</span><span class="token string">&quot;${field.propertyName}&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                #end
            #end
            #<span class="token function">foreach</span><span class="token punctuation">(</span>$field in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>commonFields<span class="token punctuation">}</span><span class="token punctuation">)</span>##生成公共字段
                <span class="token operator">&lt;</span>result column<span class="token operator">=</span><span class="token string">&quot;${field.name}&quot;</span> property<span class="token operator">=</span><span class="token string">&quot;${field.propertyName}&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            #end
            #<span class="token function">foreach</span><span class="token punctuation">(</span>$field in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>fields<span class="token punctuation">}</span><span class="token punctuation">)</span>
                #<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">{</span>field<span class="token punctuation">.</span>keyFlag<span class="token punctuation">}</span><span class="token punctuation">)</span>##生成普通字段
                    <span class="token operator">&lt;</span>result column<span class="token operator">=</span><span class="token string">&quot;${field.name}&quot;</span> property<span class="token operator">=</span><span class="token string">&quot;${field.propertyName}&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                #end
            #end
        <span class="token operator">&lt;</span><span class="token operator">/</span>resultMap<span class="token operator">&gt;</span>

    #end
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>baseColumnList<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 通用查询结果列 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>sql id<span class="token operator">=</span><span class="token string">&quot;Base_Column_List&quot;</span><span class="token operator">&gt;</span>
            #<span class="token function">foreach</span><span class="token punctuation">(</span>$field in $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>commonFields<span class="token punctuation">}</span><span class="token punctuation">)</span>
                $<span class="token punctuation">{</span>field<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">,</span>
            #end
            $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>fieldNames<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>sql<span class="token operator">&gt;</span>

    #end
<span class="token operator">&lt;</span><span class="token operator">/</span>mapper<span class="token operator">&gt;</span>
</code></pre></div><ul><li><strong>service.java.vm</strong></li></ul> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token keyword">package</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Service</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Entity</span><span class="token punctuation">}</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token punctuation">{</span>superServiceClassPackage<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
* @auther ${author}
* @create ${cfg.dateTime}
* @describe $!{table.comment}服务类
*/</span>
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>kotlin<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">interface</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>serviceName<span class="token punctuation">}</span> <span class="token operator">:</span> $<span class="token punctuation">{</span>superServiceClass<span class="token punctuation">}</span><span class="token operator">&lt;</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token operator">&gt;</span>
#<span class="token keyword">else</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>serviceName<span class="token punctuation">}</span> <span class="token keyword">extends</span> $<span class="token punctuation">{</span>superServiceClass<span class="token punctuation">}</span><span class="token operator">&lt;</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
#end
</code></pre></div><ul><li><strong>serviceImpl.java.vm</strong></li></ul> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token keyword">package</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">ServiceImpl</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Entity</span><span class="token punctuation">}</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Mapper</span><span class="token punctuation">}</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>table<span class="token punctuation">.</span>mapperName<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token punctuation">{</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token class-name">Service</span><span class="token punctuation">}</span><span class="token punctuation">.</span>$<span class="token punctuation">{</span>table<span class="token punctuation">.</span>serviceName<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token punctuation">{</span>superServiceImplClassPackage<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token comment">/**
* @auther ${author}
* @create ${cfg.dateTime}
* @describe $!{table.comment}服务实现类
*/</span>
<span class="token annotation punctuation">@Service</span>
#<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>kotlin<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">open</span> <span class="token keyword">class</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>serviceImplName<span class="token punctuation">}</span> <span class="token operator">:</span> $<span class="token punctuation">{</span>superServiceImplClass<span class="token punctuation">}</span><span class="token operator">&lt;</span>$<span class="token punctuation">{</span>table<span class="token punctuation">.</span>mapperName<span class="token punctuation">}</span><span class="token punctuation">,</span> $<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>serviceName<span class="token punctuation">}</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
#<span class="token keyword">else</span>
        <span class="token keyword">public</span> <span class="token keyword">class</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>serviceImplName<span class="token punctuation">}</span> <span class="token keyword">extends</span> $<span class="token punctuation">{</span>superServiceImplClass<span class="token punctuation">}</span><span class="token operator">&lt;</span>$<span class="token punctuation">{</span>table<span class="token punctuation">.</span>mapperName<span class="token punctuation">}</span><span class="token punctuation">,</span> $<span class="token punctuation">{</span>entity<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token keyword">implements</span> $<span class="token punctuation">{</span>table<span class="token punctuation">.</span>serviceName<span class="token punctuation">}</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
#end
</code></pre></div><ol start="3"><li>创建 <code>CodeGenerator.class</code> 类</li></ol> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mp<span class="token punctuation">.</span>demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">IdType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>exceptions</span><span class="token punctuation">.</span><span class="token class-name">MybatisPlusException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>toolkit</span><span class="token punctuation">.</span><span class="token class-name">StringPool</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>toolkit</span><span class="token punctuation">.</span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator</span><span class="token punctuation">.</span><span class="token class-name">AutoGenerator</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator</span><span class="token punctuation">.</span><span class="token class-name">InjectionConfig</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>po</span><span class="token punctuation">.</span><span class="token class-name">TableInfo</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>rules</span><span class="token punctuation">.</span><span class="token class-name">DateType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>rules</span><span class="token punctuation">.</span><span class="token class-name">NamingStrategy</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>sun<span class="token punctuation">.</span>javafx</span><span class="token punctuation">.</span><span class="token class-name">PlatformUtil</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format</span><span class="token punctuation">.</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CodeGenerator</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
    * 代码生成位置
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PARENT_NAME <span class="token operator">=</span> <span class="token string">&quot;com.mp&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
    * modular 名字
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> MODULAR_NAME <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
    * 基本路径
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> SRC_MAIN_JAVA <span class="token operator">=</span> <span class="token string">&quot;src/main/java/&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
    * 作者
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> AUTHOR <span class="token operator">=</span> <span class="token string">&quot;CodeGenerator&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
    * 是否是 rest 接口
    */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> REST_CONTROLLER_STYLE <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> JDBC_MYSQL_URL <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:3306/example&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> JDBC_DRIVER_NAME <span class="token operator">=</span> <span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> JDBC_USERNAME <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> JDBC_PASSWORD <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> moduleName <span class="token operator">=</span> <span class="token function">scanner</span><span class="token punctuation">(</span><span class="token string">&quot;模块名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> tableName <span class="token operator">=</span> <span class="token function">scanner</span><span class="token punctuation">(</span><span class="token string">&quot;表名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> tablePrefix <span class="token operator">=</span> <span class="token function">scanner</span><span class="token punctuation">(</span><span class="token string">&quot;表前缀(无前缀输入#)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;#&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">autoGenerator</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">,</span> tableName<span class="token punctuation">,</span> tablePrefix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">autoGenerator</span><span class="token punctuation">(</span><span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">String</span> tableName<span class="token punctuation">,</span> <span class="token class-name">String</span> tablePrefix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">AutoGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setGlobalConfig</span><span class="token punctuation">(</span><span class="token function">getGlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span><span class="token function">getDataSourceConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setPackageInfo</span><span class="token punctuation">(</span><span class="token function">getPackageConfig</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setStrategy</span><span class="token punctuation">(</span><span class="token function">getStrategyConfig</span><span class="token punctuation">(</span>tableName<span class="token punctuation">,</span> tablePrefix<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setCfg</span><span class="token punctuation">(</span><span class="token function">getInjectionConfig</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setTemplate</span><span class="token punctuation">(</span><span class="token function">getTemplateConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LocalDateTime</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DateTimeFormatter</span> formatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> localDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">InjectionConfig</span> <span class="token function">getInjectionConfig</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">InjectionConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Map</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;dateTime&quot;</span><span class="token punctuation">,</span> <span class="token function">getDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">setMap</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">final</span> <span class="token class-name">String</span> projectPath <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.dir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileOutConfig</span><span class="token punctuation">&gt;</span></span> fileOutConfigList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileOutConfig</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 自定义配置会被优先输出</span>
                fileOutConfigList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutConfig</span><span class="token punctuation">(</span><span class="token string">&quot;/templates/mapper.xml.vm&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">outputFile</span><span class="token punctuation">(</span><span class="token class-name">TableInfo</span> tableInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment">// 自定义输出文件名，如果entity设置了前后缀，此次注意xml的名称也会跟着发生变化</span>
                        <span class="token keyword">return</span> projectPath <span class="token operator">+</span> <span class="token string">&quot;/src/main/resources/mapper/&quot;</span> <span class="token operator">+</span>
                                moduleName <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> tableInfo<span class="token punctuation">.</span><span class="token function">getEntityName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;Mapper&quot;</span> <span class="token operator">+</span> <span class="token class-name">StringPool</span><span class="token punctuation">.</span>DOT_XML<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">setFileOutConfigList</span><span class="token punctuation">(</span>fileOutConfigList<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">StrategyConfig</span> <span class="token function">getStrategyConfig</span><span class="token punctuation">(</span><span class="token class-name">String</span> tableName<span class="token punctuation">,</span> <span class="token class-name">String</span> tablePrefix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StrategyConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setNaming</span><span class="token punctuation">(</span><span class="token class-name">NamingStrategy</span><span class="token punctuation">.</span>underline_to_camel<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setColumnNaming</span><span class="token punctuation">(</span><span class="token class-name">NamingStrategy</span><span class="token punctuation">.</span>underline_to_camel<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setInclude</span><span class="token punctuation">(</span>tableName<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setRestControllerStyle</span><span class="token punctuation">(</span>REST_CONTROLLER_STYLE<span class="token punctuation">)</span>
<span class="token comment">//                .setEntityBuilderModel(true)</span>
                <span class="token punctuation">.</span><span class="token function">setControllerMappingHyphenStyle</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token comment">//                .entityTableFieldAnnotationEnable(true)</span>
                <span class="token punctuation">.</span><span class="token function">setTablePrefix</span><span class="token punctuation">(</span>tablePrefix <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">PackageConfig</span> <span class="token function">getPackageConfig</span><span class="token punctuation">(</span><span class="token class-name">String</span> moduleName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PackageConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setModuleName</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span>PARENT_NAME<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setService</span><span class="token punctuation">(</span><span class="token string">&quot;service&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setServiceImpl</span><span class="token punctuation">(</span><span class="token string">&quot;service.impl&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setController</span><span class="token punctuation">(</span><span class="token string">&quot;controller&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span><span class="token string">&quot;entity&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">DataSourceConfig</span> <span class="token function">getDataSourceConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>JDBC_MYSQL_URL<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setDriverName</span><span class="token punctuation">(</span>JDBC_DRIVER_NAME<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>JDBC_USERNAME<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>JDBC_PASSWORD<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">GlobalConfig</span> <span class="token function">getGlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> projectPath <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.dir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> filePath <span class="token operator">=</span> projectPath <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> MODULAR_NAME <span class="token operator">+</span> SRC_MAIN_JAVA<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">PlatformUtil</span><span class="token punctuation">.</span><span class="token function">isWindows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            filePath <span class="token operator">=</span> filePath<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;/+|\\\\+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;\\\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            filePath <span class="token operator">=</span> filePath<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;/+|\\\\+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">GlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setOutputDir</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setDateType</span><span class="token punctuation">(</span><span class="token class-name">DateType</span><span class="token punctuation">.</span>ONLY_DATE<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setIdType</span><span class="token punctuation">(</span><span class="token class-name">IdType</span><span class="token punctuation">.</span>UUID<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setAuthor</span><span class="token punctuation">(</span>AUTHOR<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setBaseColumnList</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token comment">//                .setSwagger2(true)</span>
                <span class="token punctuation">.</span><span class="token function">setEnableCache</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setBaseResultMap</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">TemplateConfig</span> <span class="token function">getTemplateConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">TemplateConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setController</span><span class="token punctuation">(</span><span class="token string">&quot;/templates-generator/controller.java.vm&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setService</span><span class="token punctuation">(</span><span class="token string">&quot;/templates-generator/service.java.vm&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setServiceImpl</span><span class="token punctuation">(</span><span class="token string">&quot;/templates-generator/serviceImpl.java.vm&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span><span class="token string">&quot;/templates-generator/entity.java.vm&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setMapper</span><span class="token punctuation">(</span><span class="token string">&quot;/templates-generator/mapper.java.vm&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setXml</span><span class="token punctuation">(</span><span class="token string">&quot;/templates-generator/mapper.xml.vm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">scanner</span><span class="token punctuation">(</span><span class="token class-name">String</span> tip<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;please input &quot;</span> <span class="token operator">+</span> tip <span class="token operator">+</span> <span class="token string">&quot; : &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> ipt <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>ipt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> ipt<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">MybatisPlusException</span><span class="token punctuation">(</span><span class="token string">&quot;please input the correct &quot;</span> <span class="token operator">+</span> tip <span class="token operator">+</span> <span class="token string">&quot;. &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>运行 <code>main</code> 函数</li></ol> <p><img src="/java-learning/assets/img/mybatis-plus-1.06d7633a.jpg" alt="main函数运行图"></p> <ol start="5"><li>运行后项目目录结构</li></ol> <p><img src="/java-learning/assets/img/mybatis-plus-2.162549fb.jpg" alt="运行后项目目录结构"></p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ol><li><a href="https://www.yisu.com/zixun/228300.html" target="_blank" rel="noopener noreferrer">怎么用mybatis-plus-generator实现代码自动生成<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java-learning/spring-boot/14-transactional.html" class="prev">
        事务管理
      </a></span> <span class="next"><a href="/java-learning/spring-boot/16-dubbo.html">
        简易整合Dubbo
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/java-learning/assets/js/app.468b233b.js" defer></script><script src="/java-learning/assets/js/2.c636a619.js" defer></script><script src="/java-learning/assets/js/21.1a6bd0ed.js" defer></script>
  </body>
</html>
